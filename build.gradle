plugins {
    id 'java'
    id 'application'
    id 'com.github.alexeylisyutenko.windows-service-plugin' version '1.1.0'
}

group = 'com.github.moaxcp.spyware'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
    gradlePluginPortal()
}

dependencies {
    testImplementation platform('org.junit:junit-bom:5.10.0')
    testImplementation 'org.junit.jupiter:junit-jupiter'
}

application {
    mainClass = 'com.github.moaxcp.spyware.WebServer'
}

test {
    useJUnitPlatform()
}

windowsService {
    architecture = 'amd64'
    displayName = 'Screenshot Service'
    description = 'Service to take screenshots'
    startClass = 'Main'
    startMethod = 'main'
    startParams = 'start'
    stopClass = 'Main'
    stopMethod = 'main'
    stopParams = 'stop'
    startup = 'auto'
    interactive = true
}